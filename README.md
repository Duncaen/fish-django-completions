# Django Fish Completions

[![Build Status](https://travis-ci.com/apie/fish-django-completions.svg?branch=master)](https://travis-ci.com/apie/fish-django-completions)

Django completions for Fish Shell.

## Quickstart (general django-completions)

1. Download [__fish_complete_django.fish](__fish_complete_django.fish) to `~/.config/fish/functions/`.
2. Append the following to `~/.config/fish/config.fish`:
```
    __fish_complete_django django-admin.py
    __fish_complete_django manage.py
```

## Custom (add completions for your own management commands)
```
usage: fish_django_completions.py [-h] [-a APPS [APPS ...]] [-f FILENAME]
optional arguments:
  -h, --help            show this help message and exit
  -a APPS [APPS ...], --apps APPS [APPS ...]
  -f FILENAME, --filename FILENAME
```

## Add as management command (to add completions for your own management commands)
Loads all your configured apps. First copy the file `fish_django_completions.py` into the folder with your other management commands. Then run:
```
usage: ./manage.py fish_django_completions [-h] [-f FILENAME]
optional arguments:
  -h, --help            show this help message and exit
  -f FILENAME, --filename FILENAME
```

### Example

With South commands

```
$ python bin/fish_django_completions.py -a south | grep migrate | head
    complete -c $cmd -n '__fish_use_subcommand' -a migrate -d "Runs migrations for all apps."
    complete -c $cmd -n '__fish_seen_subcommand_from migrate' -l all -d "Run the specified migration for all apps."
    complete -c $cmd -n '__fish_seen_subcommand_from migrate' -l changes -d "List changes for migrations"
    complete -c $cmd -n '__fish_seen_subcommand_from migrate' -l skip -d "Will skip over out-of-order missing migrations"
    complete -c $cmd -n '__fish_seen_subcommand_from migrate' -l merge -d "Will run out-of-order missing migrations as they are - no rollbacks."
    complete -c $cmd -n '__fish_seen_subcommand_from migrate' -l list -d "List migrations noting those that have been applied"
    complete -c $cmd -n '__fish_seen_subcommand_from migrate' -l database -d "Nominates a database to synchronize. Defaults to the \"default\" database."
    complete -c $cmd -n '__fish_seen_subcommand_from migrate' -l fake -d "Pretends to do the migrations, but doesn't actually execute them."
    complete -c $cmd -n '__fish_seen_subcommand_from migrate' -l db-dry-run -d "Doesn't execute the SQL generated by the db methods, and doesn't store a record that the migration(s) occurred. Useful to test migrations before applying them."
    complete -c $cmd -n '__fish_seen_subcommand_from migrate' -l delete-ghost-migrations -d "Tells South to delete any 'ghost' migrations (ones in the database but not on disk)."
```

## Known Issues

* `python manage.py` cant be completed at the moment, use `./manage.py`
